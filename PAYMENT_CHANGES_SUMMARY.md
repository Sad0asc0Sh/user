# ğŸ“ Ø®Ù„Ø§ØµÙ‡ ØªØºÛŒÛŒØ±Ø§Øª Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª

## âœ… Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡

### 1ï¸âƒ£ Backend - Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÙ‡

#### Models
- **Settings.js**: Ø³Ø§Ø®ØªØ§Ø± `paymentConfig` Ø¨Ù‡ Ú†Ù†Ø¯Ú¯Ø§Ù†Ù‡ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯
  - `activeGateway`: Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø±Ú¯Ø§Ù‡ ÙØ¹Ø§Ù„
  - `zarinpal`: { merchantId, isSandbox, isActive }
  - `sadad`: { merchantId, terminalId, terminalKey, isSandbox, isActive }

- **Order.js**: ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯
  - `paymentGateway`: Ù†Ø§Ù… Ø¯Ø±Ú¯Ø§Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡
  - ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ ZarinPal: `zarinpalAuthority`, `zarinpalRefId`
  - ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Sadad: `sadadToken`, `sadadOrderId`, `sadadTraceNumber`

#### Payment Strategies (Ø§Ù„Ú¯ÙˆÛŒ Strategy)
- **utils/payment/zarinpal.js**: Ú©Ø§Ù…Ù„ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯
  - `requestPayment()`: Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø±Ø¯Ø§Ø®Øª
  - `verifyPayment()`: ØªØ§ÛŒÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª
  - Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² Sandbox/Production
  - ØªØ¨Ø¯ÛŒÙ„ ØªÙˆÙ…Ø§Ù† Ø¨Ù‡ Ø±ÛŒØ§Ù„
  - Ú©Ø¯Ù‡Ø§ÛŒ Ø®Ø·Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ

- **utils/payment/sadad.js**: Ú©Ø§Ù…Ù„ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯
  - `requestPayment()`: Ø¨Ø§ Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ HMAC-SHA256
  - `verifyPayment()`: ØªØ§ÛŒÛŒØ¯ Ø¨Ø§ Token
  - Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² API Ø³Ø¯Ø§Ø¯
  - Ú©Ø¯Ù‡Ø§ÛŒ Ø®Ø·Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ

#### Payment Service Factory
- **utils/paymentService.js**: Ø³Ø±ÙˆÛŒØ³ Ø§ØµÙ„ÛŒ
  - Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø±Ú¯Ø§Ù‡ ÙØ¹Ø§Ù„ Ø§Ø² DB
  - API ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§
  - `requestPayment()`: Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§ Ø¯Ø±Ú¯Ø§Ù‡ ÙØ¹Ø§Ù„
  - `verifyPayment()`: ØªØ§ÛŒÛŒØ¯ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¯Ø±Ú¯Ø§Ù‡
  - `getAvailableGateways()`: Ù„ÛŒØ³Øª Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§
  - `isGatewayActive()`: Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª

#### Controllers
- **orderController.js**: Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯
  - `payOrder`: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² paymentService
  - `verifyPayment`: Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ù‡Ø± Ø¯Ùˆ Ø¯Ø±Ú¯Ø§Ù‡
  - Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¯Ø±Ú¯Ø§Ù‡
  - Audit logging

- **settingsController.js**: Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯
  - `getSettings`: mask Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ credentials
  - `updateSettings`: Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú†Ù†Ø¯Ú¯Ø§Ù†Ù‡
  - ÙÙ‚Ø· Ù…Ù‚Ø§Ø¯ÛŒØ± ØºÛŒØ±-masked Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯

#### Routes
- **routes/orders.js**: Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯
  - `POST /api/orders/:id/pay`: Ø´Ø±ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø®Øª
  - `POST /api/orders/verify-payment`: ØªØ§ÛŒÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª

---

### 2ï¸âƒ£ Frontend Admin - Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª

#### Layout System
- **admin/settings/layout.tsx**: Ø³ÛŒØ³ØªÙ… Tab Ø¬Ø¯ÛŒØ¯
  - Tab "ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ" â†’ `/admin/settings`
  - Tab "Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª" â†’ `/admin/settings/payment`
  - Ù†ÙˆØ§Ø± ØªØ¨ Ø²ÛŒØ¨Ø§ Ø¨Ø§ Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§
  - Active state highlighting

#### Payment Settings Page
- **admin/settings/payment/page.tsx**: ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯ Ú©Ø§Ù…Ù„
  - **Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø±Ú¯Ø§Ù‡ ÙØ¹Ø§Ù„**: Radio buttons Ø¨Ø±Ø§ÛŒ ZarinPal/Sadad
  - **Ú©Ø§Ø±Øª ZarinPal**:
    - Input Merchant ID Ø¨Ø§ show/hide
    - Toggle Sandbox Mode
    - Toggle ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„
    - Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø²Ø±Ø¯/Ù†Ø§Ø±Ù†Ø¬ÛŒ
  - **Ú©Ø§Ø±Øª Sadad**:
    - Input Merchant ID
    - Input Terminal ID
    - Input Terminal Key
    - Toggle Sandbox Mode
    - Toggle ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„
    - Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¢Ø¨ÛŒ
  - **Validation**: Ø¨Ø±Ø±Ø³ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ
  - **Security**: Ù‡Ù…Ù‡ Ø±Ù…Ø²Ù‡Ø§ mask Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
  - **UI/UX**: Ø·Ø±Ø§Ø­ÛŒ Ø²ÛŒØ¨Ø§ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ù¾Ø³Ù†Ø¯
  - **Ù†Ú©Ø§Øª Ù…Ù‡Ù…**: Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¯Ø± Ø§Ù†ØªÙ‡Ø§

---

### 3ï¸âƒ£ Frontend User - ØªØ¬Ø±Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ

#### Checkout Integration
- **checkout/page.tsx**: Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯
  - Ù¾Ø³ Ø§Ø² Ø§ÛŒØ¬Ø§Ø¯ Ø³ÙØ§Ø±Ø´ØŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
  - Redirect Ø¨Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª
  - Ù†Ù…Ø§ÛŒØ´ Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø¯Ø± Ø­ÛŒÙ† Ø§Ù†ØªÙ‚Ø§Ù„

#### Payment Result
- **payment/result/page.tsx**: Ù‚Ø¨Ù„Ø§Ù‹ Ù…ÙˆØ¬ÙˆØ¯ Ø¨ÙˆØ¯
  - Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ù‡Ø± Ø¯Ùˆ Ø¯Ø±Ú¯Ø§Ù‡
  - Ù†Ù…Ø§ÛŒØ´ Ref ID
  - Ù†Ù…Ø§ÛŒØ´ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª (Ø§Ú¯Ø± Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø´Ø¯)

---

## ğŸ—‚ï¸ Ø³Ø§Ø®ØªØ§Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

```
Backend:
welfvita-backend/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ Settings.js          âœ… Updated
â”‚   â””â”€â”€ Order.js             âœ… Updated
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ payment/
â”‚   â”‚   â”œâ”€â”€ zarinpal.js     âœ… NEW
â”‚   â”‚   â””â”€â”€ sadad.js        âœ… NEW
â”‚   â””â”€â”€ paymentService.js   âœ… NEW
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ orderController.js  âœ… Updated
â”‚   â””â”€â”€ settingsController. âœ… Updated
â””â”€â”€ routes/
    â””â”€â”€ orders.js           âœ… Updated

Frontend:
frontend/src/app/
â”œâ”€â”€ admin/
â”‚   â””â”€â”€ settings/
â”‚       â”œâ”€â”€ layout.tsx      âœ… NEW (Tab System)
â”‚       â”œâ”€â”€ page.tsx        âœ… Existing (AI Settings)
â”‚       â””â”€â”€ payment/
â”‚           â””â”€â”€ page.tsx    âœ… NEW (Payment Settings)
â”œâ”€â”€ checkout/
â”‚   â””â”€â”€ page.tsx            âœ… Updated
â””â”€â”€ payment/
    â””â”€â”€ result/
        â””â”€â”€ page.tsx        âœ… Existing

Dependencies:
welfvita-backend/
â””â”€â”€ package.json            âœ… axios added
```

---

## ğŸ¯ Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡

### Ù…Ø±Ø­Ù„Ù‡ 1: ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†
```
http://localhost:3000/admin
```

### Ù…Ø±Ø­Ù„Ù‡ 2: Ø±ÙØªÙ† Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ **"ØªÙ†Ø¸ÛŒÙ…Ø§Øª"** Ø¯Ø± Ù…Ù†ÙˆÛŒ Ú©Ù†Ø§Ø±ÛŒ

### Ù…Ø±Ø­Ù„Ù‡ 3: Ø§Ù†ØªØ®Ø§Ø¨ ØªØ¨ Ù¾Ø±Ø¯Ø§Ø®Øª
Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ **"Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª"**

### Ù…Ø±Ø­Ù„Ù‡ 4: Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø±Ú¯Ø§Ù‡
- Ø±Ø§Ø¯ÛŒÙˆ Ø¨Ø§ØªÙ† ZarinPal ÛŒØ§ Sadad

### Ù…Ø±Ø­Ù„Ù‡ 5: ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª
- **ZarinPal**: ÙÙ‚Ø· Merchant ID
- **Sadad**: Merchant ID + Terminal ID + Terminal Key

### Ù…Ø±Ø­Ù„Ù‡ 6: ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ
- Toggle "ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„" Ø±Ø§ Ø±ÙˆØ´Ù† Ú©Ù†ÛŒØ¯
- Ø¨Ø±Ø§ÛŒ ØªØ³ØªØŒ Sandbox Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯

### Ù…Ø±Ø­Ù„Ù‡ 7: Ø°Ø®ÛŒØ±Ù‡
Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ **"Ø°Ø®ÛŒØ±Ù‡ Ù‡Ù…Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª"**

---

## âœ¨ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

1. **Ú†Ù†Ø¯Ú¯Ø§Ù†Ù‡ Ø¨ÙˆØ¯Ù†**: Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù‡Ù…Ø²Ù…Ø§Ù† Ø§Ø² Ú†Ù†Ø¯ Ø¯Ø±Ú¯Ø§Ù‡
2. **ØªØ¹ÙˆÛŒØ¶ Ø¢Ø³Ø§Ù†**: ÙÙ‚Ø· ÛŒÚ© Ú©Ù„ÛŒÚ©
3. **Ø§Ù…Ù†ÛŒØª Ø¨Ø§Ù„Ø§**: mask Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø³
4. **Sandbox Mode**: ØªØ³Øª Ø¨Ø¯ÙˆÙ† Ù¾Ø±Ø¯Ø§Ø®Øª ÙˆØ§Ù‚Ø¹ÛŒ
5. **Strategy Pattern**: Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¢Ø³Ø§Ù† Ø¯Ø±Ú¯Ø§Ù‡ Ø¬Ø¯ÛŒØ¯
6. **Factory Pattern**: Ù…Ø¯ÛŒØ±ÛŒØª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡
7. **Audit Logging**: Ø«Ø¨Øª Ú©Ø§Ù…Ù„ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§
8. **Error Handling**: Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø®Ø·Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ
9. **UI/UX**: Ø·Ø±Ø§Ø­ÛŒ Ø²ÛŒØ¨Ø§ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ù¾Ø³Ù†Ø¯
10. **Responsive**: Ø³Ø§Ø²Ú¯Ø§Ø± Ø¨Ø§ Ù…ÙˆØ¨Ø§ÛŒÙ„

---

## ğŸ”„ Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ù…Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª

```
1. Ù…Ø´ØªØ±ÛŒ Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø¨Ù‡ Ø³Ø¨Ø¯ Ù…ÛŒâ€ŒØ§ÙØ²Ø§ÛŒØ¯
2. Ø¯Ø± Checkout Ø±ÙˆÛŒ "Ù¾Ø±Ø¯Ø§Ø®Øª" Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯
3. Backend:
   - Ø³ÙØ§Ø±Ø´ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   - Ø¯Ø±Ú¯Ø§Ù‡ ÙØ¹Ø§Ù„ Ø§Ø² DB Ø®ÙˆØ§Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   - Strategy Ù…Ù†Ø§Ø³Ø¨ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯
   - Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
4. Ù…Ø´ØªØ±ÛŒ Ø¨Ù‡ ØµÙØ­Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
5. Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯
6. Callback Ø¨Ù‡ /payment/result
7. Frontend Ø¨Ù‡ Backend Ù…ÛŒâ€ŒÚ¯ÙˆÛŒØ¯ ØªØ§ÛŒÛŒØ¯ Ú©Ù†
8. Backend:
   - Ù†ÙˆØ¹ Ø¯Ø±Ú¯Ø§Ù‡ Ø±Ø§ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   - Strategy Ù…Ù†Ø§Ø³Ø¨ Ø±Ø§ ØµØ¯Ø§ Ù…ÛŒâ€ŒØ²Ù†Ø¯
   - ØªØ§ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
   - Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (isPaid = true)
9. ØµÙØ­Ù‡ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§ Ref ID Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
```

---

## ğŸš¨ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

1. âœ… Ø­ØªÙ…Ø§Ù‹ `FRONTEND_URL` Ø±Ø§ Ø¯Ø± `.env` ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯
2. âœ… Ù‚Ø¨Ù„ Ø§Ø² ProductionØŒ Ø¯Ø± Sandbox ØªØ³Øª Ú©Ù†ÛŒØ¯
3. âœ… ÛŒÚ© Ø¯Ø±Ú¯Ø§Ù‡ Ø¨Ø§ÛŒØ¯ ÙØ¹Ø§Ù„ Ø¨Ø§Ø´Ø¯
4. âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ù…Ø­Ø±Ù…Ø§Ù†Ù‡ Ù‡Ø³ØªÙ†Ø¯
5. âœ… axios Ù†ØµØ¨ Ø´Ø¯Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø´Ø¯ (`npm install axios`)

---

## ğŸ“Š Database Schema Changes

### Settings Collection
```js
{
  paymentConfig: {
    activeGateway: "zarinpal",  // ÛŒØ§ "sadad"
    zarinpal: {
      merchantId: "****",       // masked
      isSandbox: true,
      isActive: true
    },
    sadad: {
      merchantId: "****",       // masked
      terminalId: "****",       // masked
      terminalKey: "****",      // masked
      isSandbox: true,
      isActive: false
    }
  }
}
```

### Order Collection
```js
{
  paymentGateway: "zarinpal",  // ÛŒØ§ "sadad"
  zarinpalAuthority: "A00000...",
  zarinpalRefId: "123456",
  sadadToken: null,
  sadadOrderId: null,
  sadadTraceNumber: null,
  isPaid: true,
  paidAt: "2024-01-15T10:30:00Z"
}
```

---

## ğŸ‰ Ù†ØªÛŒØ¬Ù‡

Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª Ú†Ù†Ø¯Ú¯Ø§Ù†Ù‡ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª! Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯:

âœ… Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ Ø¨ÛŒÙ† Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ ØªØ¹ÙˆÛŒØ¶ Ú©Ù†ÛŒØ¯
âœ… Ù‡Ø± Ø¯Ùˆ Ø±Ø§ Ù‡Ù…Ø²Ù…Ø§Ù† ÙØ¹Ø§Ù„ Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯
âœ… Ø¯Ø± Sandbox ØªØ³Øª Ú©Ù†ÛŒØ¯
âœ… Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
âœ… Ø§Ø² Ø§Ù…Ù†ÛŒØª Ø¨Ø§Ù„Ø§ Ø¨Ù‡Ø±Ù‡â€ŒÙ…Ù†Ø¯ Ø´ÙˆÛŒØ¯

**ÙÙ‚Ø· Ú©Ø§ÙÛŒ Ø§Ø³Øª Ø¨Ù‡ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø¨Ø±ÙˆÛŒØ¯ Ùˆ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯!** ğŸš€
