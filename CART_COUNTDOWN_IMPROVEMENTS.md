# ุจูุจูุฏูุง Countdown Timer ุณุจุฏูุง ุฑูุง ุดุฏู

## ุชุบุฑุงุช ุงุนูุงู ุดุฏู

### 1. โ ููุงุด ุฒูุงู ุจุงููุงูุฏู ุจุง Progress Bar

**ูุจู:**
```
ููุท "ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู" ููุงุด ุฏุงุฏู ูโุดุฏ
ูฺ ุงุทูุงุน ุงุฒ ุฒูุงู ุจุงููุงูุฏู ุชุง ุงููุถุง ูุจูุฏ
```

**ุจุนุฏ:**
```
โฐ ุณุชูู ุฌุฏุฏ: "ุฒูุงู ุจุงููุงูุฏู ุชุง ุงููุถุง"
๐ Progress Bar ููุงุด ูโุฏูุฏ ฺูุฏุฑ ุงุฒ ุฒูุงู ุณูพุฑ ุดุฏู
๐จ ุฑูฺฏโุจูุฏ ููุดููุฏ ุจุฑ ุงุณุงุณ ููุฑุช:
   ๐ข ุณุจุฒ: ุจุด ุงุฒ 30 ุฏููู ูุงูุฏู (ุนุงุฏ)
   ๐ ูุงุฑูุฌ: 15-30 ุฏููู ูุงูุฏู (ูุชูุณุท)
   ๐ด ูุฑูุฒ: ฺฉูุชุฑ ุงุฒ 15 ุฏููู (ููุฑ!)
```

### 2. โ ุขฺฉููโูุง ููุดููุฏ ุจุฑ ุงุณุงุณ ููุฑุช

**ุขฺฉููโูุง ู ูุนุงู:**
```
๐ ClockCircleOutlined: ุญุงูุช ุนุงุฏ (ุจุด ุงุฒ 30 ุฏููู)
โ๏ธ  WarningOutlined: ูุดุฏุงุฑ ูุชูุณุท (15-30 ุฏููู)
๐ฅ FireOutlined: ููุฑ! (ฺฉูุชุฑ ุงุฒ 15 ุฏููู)
```

### 3. โ ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ ูุฑ 1 ุฏููู

**ูุจู:**
```
โ ุงุฏูู ุจุงุฏ ุตูุญู ุฑุง ุฏุณุช refresh ฺฉูุฏ
โ countdown ูุง ูุฏู ูโุดููุฏ
```

**ุจุนุฏ:**
```
โ ูุฑ 1 ุฏููู ุฎูุฏฺฉุงุฑ refresh ูโุดูุฏ
โ ุฒูุงู ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู ููุงุด ุฏุงุฏู ูโุดูุฏ
โ ูุดุงูฺฏุฑ "ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ ูุฑ 1 ุฏููู" ุฏุฑ ุจุงูุง ุตูุญู
```

### 4. โ ุฌุฒุฆุงุช ฺฉุงูู ุฏุฑ Modal

**ุงูุฒูุฏู ุดุฏ:**
```
๐ ุจุฎุด "ูุถุนุช ุงููุถุง ุณุจุฏ" ุฏุฑ Modal ุฌุฒุฆุงุช
- ููุงุด ุฒูุงู ุจุงููุงูุฏู ุจุง Progress Bar ุจุฒุฑฺฏ
- ููุงุด ุฏูู ุฒูุงู ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู ู ุฒูุงู ุงููุถุง
- ูุดุฏุงุฑ ูุฑูุฒ ุจุฑุง ุณุจุฏูุง ฺฉู ฺฉูุชุฑ ุงุฒ 30 ุฏููู ูุงูุฏู
- ูพุดููุงุฏ ุงุฑุณุงู ุงุฏุขูุฑ ุจุฑุง ุณุจุฏูุง ููุฑ
```

## ููุงุดโูุง ูุฎุชูู

### ุญุงูุช 1: ุณุจุฏ ูุงูุฏฺฏุงุฑ
```
๐ต Tag ุขุจ: "ุณุจุฏ ูุงูุฏฺฏุงุฑ"
๐ ุชูุถุญ: ุงู ุณุจุฏ ูููุถ ููโุดูุฏ
```

### ุญุงูุช 2: ุณุจุฏ ูููุถ ุดุฏู
```
โช Tag ุฎุงฺฉุณุชุฑ: "ูููุถ ุดุฏู"
๐ Progress Bar ูุฑูุฒ 100%
๐ ููุงุด ุฏูู ุฒูุงู ุงููุถุง
```

### ุญุงูุช 3: ุณุจุฏ ูุนุงู (ุจุด ุงุฒ 30 ุฏููู)
```
๐ข Tag ุณุจุฒ ุจุง ุขฺฉูู ุณุงุนุช
๐ Progress Bar ุณุจุฒ
๐ ูุซุงู: "1 ุณุงุนุช ู 45 ุฏููู"
```

### ุญุงูุช 4: ุณุจุฏ ุฏุฑ ูุถุนุช ูุชูุณุท (15-30 ุฏููู)
```
๐ Tag ูุงุฑูุฌ ุจุง ุขฺฉูู ูุดุฏุงุฑ
๐ Progress Bar ูุงุฑูุฌ
๐ ูุซุงู: "23 ุฏููู"
โ๏ธ  ุชูุตู: ุงุฑุณุงู ุงุฏุขูุฑ
```

### ุญุงูุช 5: ุณุจุฏ ููุฑ (ฺฉูุชุฑ ุงุฒ 15 ุฏููู)
```
๐ด Tag ูุฑูุฒ ุจุง ุขฺฉูู ุขุชุด
๐ Progress Bar ูุฑูุฒ
๐ ูุซุงู: "7 ุฏููู"
๐จ ูุดุฏุงุฑ ูุฑูุฒ ุฏุฑ Modal: "ุงู ุณุจุฏ ุจู ุฒูุฏ ูููุถ ูโุดูุฏ!"
```

## ฺฉุฏูุง ฺฉูุฏ

### 1. ูุญุงุณุจู ุฒูุงู ุจุงููุงูุฏู
```javascript
const getTimeRemaining = (expiresAt) => {
  if (!expiresAt) return null

  const now = new Date()
  const expiry = new Date(expiresAt)
  const diffInMs = expiry - now

  if (diffInMs <= 0) {
    return { expired: true, text: 'ูููุถ ุดุฏู', minutes: 0 }
  }

  const diffInMinutes = Math.floor(diffInMs / (1000 * 60))
  const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60))
  const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24))

  let text = ''
  if (diffInDays > 0) {
    const remainingHours = diffInHours % 24
    text = `${diffInDays} ุฑูุฒ${remainingHours > 0 ? ` ู ${remainingHours} ุณุงุนุช` : ''}`
  } else if (diffInHours > 0) {
    const remainingMinutes = diffInMinutes % 60
    text = `${diffInHours} ุณุงุนุช${remainingMinutes > 0 ? ` ู ${remainingMinutes} ุฏููู` : ''}`
  } else {
    text = `${diffInMinutes} ุฏููู`
  }

  return { expired: false, text, minutes: diffInMinutes }
}
```

### 2. ูุญุงุณุจู Progress Bar
```javascript
const getExpiryProgress = (cart) => {
  const remaining = getTimeRemaining(cart.expiresAt)
  if (!remaining || remaining.expired) {
    return { percent: 100, status: 'exception' }
  }

  // ูุญุงุณุจู ุฏุฑุตุฏ ุณูพุฑ ุดุฏู ุงุฒ ฺฉู ุฒูุงู
  const now = new Date()
  const updated = new Date(cart.updatedAt)
  const expiry = new Date(cart.expiresAt)
  const totalDuration = expiry - updated
  const elapsed = now - updated

  const percent = Math.min(100, Math.floor((elapsed / totalDuration) * 100))

  // ุชุนู ูุถุนุช ุจุฑ ุงุณุงุณ ุฒูุงู ุจุงููุงูุฏู
  let status = 'success'
  if (remaining.minutes <= 15) {
    status = 'exception' // ูุฑูุฒ - ููุฑ
  } else if (remaining.minutes <= 30) {
    status = 'normal' // ูุงุฑูุฌ - ูุชูุณุท
  }

  return { percent, status }
}
```

### 3. ุงูุชุฎุงุจ ุขฺฉูู ู ุฑูฺฏ
```javascript
const getUrgencyIcon = (cart) => {
  const remaining = getTimeRemaining(cart.expiresAt)
  if (!remaining || remaining.expired) {
    return { icon: <ClockCircleOutlined />, color: '#999' }
  }

  if (remaining.minutes <= 15) {
    return { icon: <FireOutlined />, color: '#ff4d4f' } // ูุฑูุฒ - ููุฑ
  } else if (remaining.minutes <= 30) {
    return { icon: <WarningOutlined />, color: '#fa8c16' } // ูุงุฑูุฌ - ูุชูุณุท
  } else {
    return { icon: <ClockCircleOutlined />, color: '#52c41a' } // ุณุจุฒ - ุนุงุฏ
  }
}
```

### 4. Auto-refresh ูุฑ 1 ุฏููู
```javascript
useEffect(() => {
  const interval = setInterval(() => {
    fetchAbandonedCarts()
  }, 60000) // 60 seconds

  return () => clearInterval(interval)
}, [hoursAgo, daysAgo])
```

## ุณูุงุฑููุง ูุงูุน

### ุณูุงุฑู 1: ุณุจุฏ ุฏุฑ ุขุณุชุงูู ุงููุถุง
```
๐ฌ ูุถุนุช:
- ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู: 55 ุฏููู ูพุด
- TTL ุณุจุฏ: 60 ุฏููู
- ุฒูุงู ุจุงููุงูุฏู: 5 ุฏููู

๐ก ููุงุด:
๐ฅ Tag ูุฑูุฒ ุจุง ุขฺฉูู Fire: "5 ุฏููู"
๐ Progress Bar ูุฑูุฒ 92%

๐ฏ ุงูุฏุงู ูพุดููุงุฏ:
โก ููุฑ ุงุฏุขูุฑ ุงุฑุณุงู ฺฉูุฏ
๐ง ุงูู + ูพุงูฺฉ ููุฒูุงู
```

### ุณูุงุฑู 2: ุณุจุฏ ููู ุฑุงู
```
๐ฌ ูุถุนุช:
- ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู: 35 ุฏููู ูพุด
- TTL ุณุจุฏ: 60 ุฏููู
- ุฒูุงู ุจุงููุงูุฏู: 25 ุฏููู

๐ก ููุงุด:
โ๏ธ  Tag ูุงุฑูุฌ ุจุง ุขฺฉูู Warning: "25 ุฏููู"
๐ Progress Bar ูุงุฑูุฌ 58%

๐ฏ ุงูุฏุงู ูพุดููุงุฏ:
๐ง ุงูู ุงุฏุขูุฑ ุงุฑุณุงู ฺฉูุฏ
โฑ๏ธ  ูพฺฏุฑ ุฏุฑ 10 ุฏููู ุขูุฏู
```

### ุณูุงุฑู 3: ุณุจุฏ ุชุงุฒู ุฑูุง ุดุฏู
```
๐ฌ ูุถุนุช:
- ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู: 5 ุฏููู ูพุด
- TTL ุณุจุฏ: 60 ุฏููู
- ุฒูุงู ุจุงููุงูุฏู: 55 ุฏููู

๐ก ููุงุด:
๐ Tag ุณุจุฒ ุจุง ุขฺฉูู Clock: "55 ุฏููู"
๐ Progress Bar ุณุจุฒ 8%

๐ฏ ุงูุฏุงู ูพุดููุงุฏ:
โ ุตุจุฑ ฺฉูุฏุ ูููุฒ ุฒูุงู ุฏุงุฑุฏ
๐ ูุงูุชูุฑ ฺฉูุฏ
```

### ุณูุงุฑู 4: ุณุจุฏ B2B ูุงูุฏฺฏุงุฑ
```
๐ฌ ูุถุนุช:
- ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู: 3 ุฑูุฒ ูพุด
- permanentCart: true
- ุฒูุงู ุจุงููุงูุฏู: ูุงูุญุฏูุฏ

๐ก ููุงุด:
๐ต Tag ุขุจ: "ุณุจุฏ ูุงูุฏฺฏุงุฑ"
(ุจุฏูู Progress Bar)

๐ฏ ุงูุฏุงู ูพุดููุงุฏ:
๐ง ุงุฏุขูุฑ ุฏูุฑูโุง (ููุชฺฏ)
๐ฌ ุชูุงุณ ูุณุชูู ุจุง ูุดุชุฑ
```

## ุชูุงูุช ุจุง ูุณุฎู ูุจู

| ูุจู | ุจุนุฏ |
|-----|-----|
| ููุท "ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู" | ุฒูุงู ุจุงููุงูุฏู + Progress Bar |
| ุจุฏูู ูุดุงูฺฏุฑ ููุฑุช | ุฑูฺฏโุจูุฏ ู ุขฺฉูู ููุดููุฏ |
| refresh ุฏุณุช | auto-refresh ูุฑ 1 ุฏููู |
| ุงุทูุงุนุงุช ูุญุฏูุฏ ุฏุฑ Modal | ุจุฎุด ฺฉุงูู "ูุถุนุช ุงููุถุง" |
| ุจุฏูู ูุดุฏุงุฑ ููุฑุช | Alert ูุฑูุฒ ุจุฑุง ุณุจุฏูุง ููุฑ |

## ูุฒุงุง ุงู ุณุณุชู

### 1. ูุงุจู ููุณ ู ุจุตุฑ
```
โ ุงุฏูู ุจุง ฺฉ ูฺฏุงู ูโูููุฏ ฺฉุฏุงู ุณุจุฏ ููุฑ ุงุณุช
โ Progress Bar ุจู ุตูุฑุช ุจุตุฑ ููุฑุช ุฑุง ูุดุงู ูโุฏูุฏ
โ ุฑูฺฏโูุง ุฑูุดู ู ูุงุถุญ (ุณุจุฒุ ูุงุฑูุฌุ ูุฑูุฒ)
```

### 2. Real-time ู ุฒูุฏู
```
โ ูุฑ 1 ุฏููู ุฎูุฏฺฉุงุฑ ุจูโุฑูุฒ ูโุดูุฏ
โ ูุงุฒ ุจู refresh ุฏุณุช ูุณุช
โ ุฒูุงู ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู ููุงุด ุฏุงุฏู ูโุดูุฏ
```

### 3. ุงูุฏุงูโูุญูุฑ
```
โ ูุดุฏุงุฑูุง ููุฑ ุจุฑุง ุณุจุฏูุง ุฏุฑ ูุนุฑุถ ุฎุทุฑ
โ ูพุดููุงุฏ ูุณุชูู ุจุฑุง ุงุฑุณุงู ุงุฏุขูุฑ
โ ุงูููุชโุจูุฏ ูุงุถุญ ุณุจุฏูุง
```

### 4. ุฌุงูุน ู ฺฉุงูู
```
โ ููุงุด ุฏุฑ ุฌุฏูู ุงุตู + Modal ุฌุฒุฆุงุช
โ Tooltip ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ
โ ูพุดุชุจุงู ุงุฒ ุณุจุฏูุง ูุงูุฏฺฏุงุฑ
```

## ฺฺฉโูุณุช ุชุณุช

### ุชุณุช 1: ููุงุด ุนุงุฏ
- [ ] ุณุจุฏ ุจุง 45 ุฏููู ุจุงููุงูุฏู โ Tag ุณุจุฒ + Progress ุณุจุฒ
- [ ] ุณุจุฏ ุจุง 25 ุฏููู ุจุงููุงูุฏู โ Tag ูุงุฑูุฌ + Progress ูุงุฑูุฌ
- [ ] ุณุจุฏ ุจุง 10 ุฏููู ุจุงููุงูุฏู โ Tag ูุฑูุฒ + Progress ูุฑูุฒ
- [ ] ุณุจุฏ ูููุถ ุดุฏู โ Tag ุฎุงฺฉุณุชุฑ + Progress ูุฑูุฒ 100%
- [ ] ุณุจุฏ ูุงูุฏฺฏุงุฑ โ Tag ุขุจ "ุณุจุฏ ูุงูุฏฺฏุงุฑ"

### ุชุณุช 2: Auto-refresh
- [ ] ุตูุญู ุฑุง ุจุงุฒ ฺฉู ู 1 ุฏููู ุตุจุฑ ฺฉู โ countdown ูุง ุขูพุฏุช ุดููุฏ
- [ ] ุฒูุงู "ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู" ุฏุฑ ุจุงูุง ุตูุญู ุชุบุฑ ฺฉูุฏ
- [ ] ุงฺฏุฑ ุณุจุฏ ูููุถ ุดูุฏุ ูุถุนุชุด ุชุบุฑ ฺฉูุฏ

### ุชุณุช 3: Modal ุฌุฒุฆุงุช
- [ ] ฺฉูฺฉ ุฑู "ุฌุฒุฆุงุช" ุณุจุฏ ูุนุงู โ ุจุฎุด "ูุถุนุช ุงููุถุง" ููุงุด ุฏุงุฏู ุดูุฏ
- [ ] Progress Bar ุฏุฑ Modal ุฏุฑุณุช ูุญุงุณุจู ุดูุฏ
- [ ] ุจุฑุง ุณุจุฏ ููุฑ (ฺฉูุชุฑ ุงุฒ 30 ุฏููู) โ Alert ูุฑูุฒ ููุงุด ุฏุงุฏู ุดูุฏ
- [ ] ุฒูุงูโูุง "ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู" ู "ุฒูุงู ุงููุถุง" ุฏุฑุณุช ููุงุด ุฏุงุฏู ุดููุฏ

### ุชุณุช 4: Edge cases
- [ ] ุณุจุฏ ุจุฏูู expiresAt (ูุงูุฏฺฏุงุฑ) โ ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ
- [ ] ุณุจุฏ ฺฉู ูููุถ ุดุฏู โ ุจุฏูู Error ููุงุด ุฏุงุฏู ุดูุฏ
- [ ] ููุชุฑ ุชุบุฑ ฺฉูุฏ โ auto-refresh reset ุดูุฏ

## ูุชุฌู

ุงู ุจูุจูุฏูุง ุณุณุชู ูุฏุฑุช ุณุจุฏูุง ุฑูุง ุดุฏู ุฑุง ุจู ฺฉ ุงุจุฒุงุฑ **ุฒูุฏูุ ุจุตุฑ ู ุงูุฏุงูโูุญูุฑ** ุชุจุฏู ูโฺฉูุฏ:

โ **ูุงุถุญ:** ุงุฏูู ููุฑุงู ูโูููุฏ ฺฉุฏุงู ุณุจุฏ ููุฑ ุงุณุช
โ **ุฒูุฏู:** countdown ูุง ูุฑ ุฏููู ุขูพุฏุช ูโุดููุฏ
โ **ุจุตุฑ:** ุฑูฺฏโุจูุฏ ู ุขฺฉููโูุง ูุงุถุญ
โ **ฺฉุงุฑุจุฑุฏ:** ูพุดููุงุฏูุง ูุณุชูู ุจุฑุง ุงูุฏุงู
โ **ุฌุงูุน:** ุงุทูุงุนุงุช ฺฉุงูู ุฏุฑ ุฌุฏูู ู Modal

ุงุฏูู ุฏฺฏุฑ ูุงุฒ ุจู ุญุฏุณ ุฒุฏู ูุฏุงุฑุฏ - ููู ฺุฒ ูุงุถุญ ู ูุงุจู ููุณ ุงุณุช! ๐
